PACKAGE_NAME = "picomath"

#This is kind of a hack to deal with the lack of scons support for the
#autogenerated class files from scala that don't directly map to
#.scala files (i.e. Erf$.class)
bld = Builder(action = 'cd scala;jar cfm picomath.jar MANIFEST classes/Erf$.class -C classes Erf.class classes/Main$.class -C classes Main.class -C classes Expm1.class classes/Expm1$.class -C classes NormalCDFInverse.class classes/NormalCDFInverse$.class -C classes Phi.class classes/Phi$.class')
env = Environment(JAVAC = "scalac", JAVASUFFIX=".scala")
env.Append(BUILDERS = {'hobojar' : bld})
env.Java('classes', 'src')

#env.Jar(PACKAGE_NAME, Glob("classes/*") + ["MANIFEST"])
env.hobojar('picomath.jar', './src/Main.scala')